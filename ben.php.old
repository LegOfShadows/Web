<?php
if (isset ( $_POST ['get'] )) {
	require_once (ROOT . '\tcpdf\examples\tcpdf_include.php');
	
	$invoice = $_POST['get'];
	
	$invNum = $invoice ['num'];
	$date = Date("M d, Y",time()); //$invoice ['date'] 
	$hours = $invoice ['hours'];
	$salary = $invoice ['salary'];
	$cost = $invoice ['cost'];
		
	$pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);
	
	// set document information
	$pdf->SetCreator(PDF_CREATOR);
	$pdf->SetAuthor('Benoit Courville');
	$pdf->SetTitle('BC$invNum');
	$pdf->SetSubject('Invoice');
	//$pdf->SetKeywords('TCPDF, PDF, example, test, guide');
	
	// remove default header/footer
	$pdf->setPrintHeader(false);
	$pdf->setPrintFooter(false);
	
	// set default monospaced font
	$pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);
	
	// set margins
	$pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);
	
	// set auto page breaks
	$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);
	
	// set image scale factor
	$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);
	
	// set some language-dependent strings (optional)
	if (@file_exists(dirname(__FILE__).'/lang/eng.php')) {
		require_once(dirname(__FILE__).'/lang/eng.php');
		$pdf->setLanguageArray($l);
	}
	
	// ---------------------------------------------------------
	
	// set font
	//$pdf->SetFont('times', 'B', 20);
	
	// add a page
	$pdf->AddPage();
	
	// set some text to print
	$txt = <<<EOD
<h4 style="border-bottom:2px solid black;">Invoice BC $invNum</h4>
<h1><u>Benoit Courville</u></h1>
<p>benoit.courville@outlook.com (514)358-3701<br>
18372 Amalfi, Pierrefonds, Quebec, Canada</p>
<p>Invoice Period: ending $date<br>
Invoiced to: Synergy Cycle -- <a href="info@synergycycle.ca">info@synergycycle.ca</a></p>

<table style="width:100%">
	<tr>
		<th><u>Description of Items Invoiced:</u></th>
		<th text-align="right"><u>Price</u></th> 
		<th text-align="right"><u>Total</u></th>
	</tr>
	<tr><td></td>
	</tr>
	<tr>
		<td>$hours x 1 Hour of Mechanical Service for Bicycles + Management Assistance</td>
		<td text-align="right">$$salary</td> 
		<td text-align="right">$$cost</td>
	</tr>
</table>
<br><br><br>
<p style="text-align:right;">Invoice Status: UNPAID<br>
<br>
Merci!<br>
<br>
Benoit Courville</p>





<p>$date</p>
<p>Hours $hours</p>
<p>Salary $$salary</p>
<p>Total Cost $$cost</p>
EOD;
	
	// print a block of text using Write()
	$pdf->writeHTML($txt, true, false, true, false, '');
	
	// ---------------------------------------------------------
	
	//Close and output PDF document
	$pdf->Output('example_002.pdf', 'I');
	
	//============================================================+
	// END OF FILE
	//============================================================+
	
}